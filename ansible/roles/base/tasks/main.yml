- name: download gpg key for github cli
  become: true
  get_url: 
    url: https://cli.github.com/packages/githubcli-archive-keyring.gpg
    dest: /etc/apt/trusted.gpg.d/githubcli-archive-keyring.gpg

- name: Add github apt source
  become: true
  apt_repository:
    repo: deb https://cli.github.com/packages stable main
    state: present
    validate_certs: true

- name: Install command line tools
  become: true
  apt:
    name: 
    - kitty             # highly configurable terminal program
    - autojump          # used to jump around directories quickly
    - fish              # friendly shell
    - exa               # rust based ls replacement
    - bat               # rust based cat replacement
    - ripgrep           # rust based grep replacement
    - fd-find           # fust based find replacement
    - mosh              # ability to connect via slow links
    - gh                # github client
    - snapd             # allows you to install snaps
    - ansible-lint      
    - tmux              # terminal multiplexer
    - npm
    - openssh-server    # ssh tools
    state: present

- name: install snap's
  become: true
  community.general.snap:
    name:
      - core
      - starship

- name: remove blank .tmux.conf
  file:
    state: absent
    path: 
    - $HOME/.tmux.conf

- name: set shell to fish
  become: true
  user:
    name: zach
    shell: /usr/bin/fish
